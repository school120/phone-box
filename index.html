<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phone Box Checker (MVP)</title>
  <!-- Tailwind (CDN build for simplicity on GitHub Pages) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Small tweaks */
    .card{ @apply bg-white rounded-2xl shadow p-4; }
  </style>
  <!-- CSV parsing -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <!-- React + ReactDOM (no build step) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- TensorFlow.js + MobileNet for embeddings -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.20.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@2.1.0"></script>
  <!-- OpenCV.js for perspective + edge detection -->
  <script src="https://docs.opencv.org/4.x/opencv.js"></script>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900">
  <div id="root" class="p-6"></div>

  <script type="text/javascript">
  // ===== React helpers =====
  const { useEffect, useRef, useState } = React;

  const DEFAULT_GRID = { rows: 6, cols: 10 };
  const STORAGE_KEYS = { roster: 'roster', grid: 'grid', assignments: 'assignments', gallery: 'gallery', corners: 'corners' };
  const slotKey = (r,c)=> `${r}-${c}`;

  const Storage = {
    save: (k,v)=> localStorage.setItem(k, JSON.stringify(v)),
    load: (k,f)=> { try { const r = localStorage.getItem(k); return r? JSON.parse(r): f; } catch { return f; } }
  };

  const cosineSimilarity = (a,b)=>{
    if(!a||!b||a.length!==b.length) return 0; let dot=0,na=0,nb=0; for(let i=0;i<a.length;i++){ dot+=a[i]*b[i]; na+=a[i]*a[i]; nb+=b[i]*b[i]; } return dot/(Math.sqrt(na)*Math.sqrt(nb)+1e-8);
  };

  const downloadJson = (name, data)=>{
    const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
    const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download=name; a.click(); URL.revokeObjectURL(url);
  };

  function Header(){
    return (
      React.createElement('div',{className:'flex items-start justify-between gap-4'},[
        React.createElement('div',{key:1},[
          React.createElement('h1',{className:'text-3xl font-bold'},'Phone Box Checker (MVP)'),
          React.createElement('p',{className:'text-sm text-gray-600'},'Capture a photo of a phone box (up to 60 slots), detect empty slots, and flag mismatches after enrollment. All data stays local unless you export it.')
        ]),
        React.createElement('div',{key:2,className:'text-right text-xs text-gray-500'},[
          React.createElement('p',{key:'p1'},'Ready for GitHub Pages (single file).'),
          React.createElement('p',{key:'p2'},'Tech: React UMD, OpenCV.js, TF.js MobileNet, PapaParse.')
        ])
      ])
    );
  }

  function NumberInput({label,value,onChange,min=1,max=60}){
    return React.createElement('label',{className:'flex items-center gap-2'},[
      React.createElement('span',{className:'text-sm w-24'},label),
      React.createElement('input',{className:'border rounded px-2 py-1 w-24',type:'number',value, min, max, onChange:e=>onChange(Math.max(min, Math.min(max, parseInt(e.target.value||'0'))))})
    ]);
  }

  function RosterTable({ roster }){
    return React.createElement('div',{className:'overflow-auto max-h-64 border rounded'},[
      React.createElement('table',{className:'min-w-full text-sm'},[
        React.createElement('thead',{className:'bg-gray-100 sticky top-0'},[
          React.createElement('tr',{},[
            React.createElement('th',{className:'text-left p-2'},'Person ID'),
            React.createElement('th',{className:'text-left p-2'},'Full Name'),
            React.createElement('th',{className:'text-left p-2'},'Security #'),
            React.createElement('th',{className:'text-left p-2'},'Grade'),
            React.createElement('th',{className:'text-left p-2'},'Email')
          ])
        ]),
        React.createElement('tbody',{}, roster.map(r=>React.createElement('tr',{key:r.personId,className:'odd:bg-white even:bg-gray-50'},[
          React.createElement('td',{className:'p-2'},r.personId),
          React.createElement('td',{className:'p-2'},r.fullName),
          React.createElement('td',{className:'p-2'},r.securityNumber||''),
          React.createElement('td',{className:'p-2'},r.grade||''),
          React.createElement('td',{className:'p-2'},r.email||'')
        ])))
      ])
    ]);
  }

  function AssignmentsPanel({ rows, cols, assignments, setAssignments, roster }){
    const [search, setSearch] = useState('');
    const filtered = roster.filter(r=> (r.fullName||'').toLowerCase().includes(search.toLowerCase()) || (r.securityNumber||'').toLowerCase().includes(search.toLowerCase()) || String(r.personId).includes(search));
    const slots = Array.from({length: rows*cols}, (_,i)=>({r: Math.floor(i/cols), c: i%cols}));
    const assign = (key,pid)=> setAssignments({...assignments, [key]: pid||undefined});

    return React.createElement('div',{className:'bg-white border rounded-xl p-3'},[
      React.createElement('div',{className:'flex items-center justify-between gap-3'},[
        React.createElement('h3',{className:'font-semibold'},'Assign students to slots'),
        React.createElement('input',{className:'border rounded px-2 py-1 text-sm',placeholder:'Search roster',value:search,onChange:e=>setSearch(e.target.value)})
      ]),
      React.createElement('div',{className:'grid grid-cols-5 gap-2 mt-3'}, slots.map(({r,c})=>{
        const key = slotKey(r,c);
        const pid = assignments[key];
        const match = roster.find(x=>String(x.personId)===String(pid));
        const label = `R${r+1}C${c+1}`;
        return React.createElement('div',{key,className:'border rounded-lg p-2 text-xs'},[
          React.createElement('div',{className:'text-[10px] text-gray-500'},label),
          React.createElement('div',{className:'font-medium truncate',title: match? match.fullName: 'Unassigned'}, match? match.fullName: 'Unassigned'),
          React.createElement('select',{className:'mt-1 w-full border rounded', value: pid||'', onChange:e=>assign(key,e.target.value)},[
            React.createElement('option',{key:'none',value:''},'— Assign —'),
            ...filtered.map(s=> React.createElement('option',{key:s.personId, value:s.personId},`${s.fullName} (${s.securityNumber||s.grade||''})`))
          ])
        ]);
      }))
    ]);
  }

  function App(){
    const [grid, setGrid] = useState(Storage.load(STORAGE_KEYS.grid, DEFAULT_GRID));
    const [roster, setRoster] = useState(Storage.load(STORAGE_KEYS.roster, []));
    const [assignments, setAssignments] = useState(Storage.load(STORAGE_KEYS.assignments, {}));
    const [gallery, setGallery] = useState(Storage.load(STORAGE_KEYS.gallery, {}));
    const [corners, setCorners] = useState(Storage.load(STORAGE_KEYS.corners, []));
    const [imageURL, setImageURL] = useState(null);
    const [presence, setPresence] = useState([]);
    const [results, setResults] = useState(null);
    const [mobilenetReady, setMobilenetReady] = useState(false);
    const mobilenetRef = useRef(null);
    const canvasRef = useRef(null); const imgRef = useRef(null);

    // Persist
    useEffect(()=>Storage.save(STORAGE_KEYS.grid, grid),[grid]);
    useEffect(()=>Storage.save(STORAGE_KEYS.roster, roster),[roster]);
    useEffect(()=>Storage.save(STORAGE_KEYS.assignments, assignments),[assignments]);
    useEffect(()=>Storage.save(STORAGE_KEYS.gallery, gallery),[gallery]);
    useEffect(()=>Storage.save(STORAGE_KEYS.corners, corners),[corners]);

    useEffect(()=>{ (async()=>{ try { mobilenetRef.current = await mobilenet.load({version:2, alpha:1.0}); setMobilenetReady(true);} catch(e){console.error(e);} })(); },[]);

    const parseRosterRows = (rows)=> rows.map(r=>({
      personId: String(r['Person ID']||r.personId||r.id||'').trim(),
      fullName: String(r['Full Name']||r.fullName||r.name||'').trim(),
      securityNumber: String(r['Security Number']||r.securityNumber||'').trim(),
      grade: String(r['Current Grade']||r.grade||'').trim(),
      email: String(r['Email 1']||r.email||'').trim(),
    })).filter(r=>r.personId && r.fullName);

    const loadRosterFromRepo = async ()=>{
      try{
        const res = await fetch('roster.csv', {cache:'no-store'});
        if(!res.ok) throw new Error('Missing roster.csv in repo root');
        const text = await res.text();
        const parsed = Papa.parse(text, {header:true, skipEmptyLines:true});
        const rows = parseRosterRows(parsed.data);
        setRoster(rows);
        alert('Roster loaded from repo (roster.csv).');
      }catch(err){ alert('Could not load roster.csv from repo. Make sure it exists at the root.'); console.error(err); }
    };

    const onUploadCSV = (file)=>{
      Papa.parse(file, {header:true, skipEmptyLines:true, complete: (res)=>{ setRoster(parseRosterRows(res.data)); }});
    };

    const onPhoto = (file)=>{ setImageURL(URL.createObjectURL(file)); setPresence([]); setResults(null); };

    const onClickCanvas = (e)=>{
      if(!imageURL) return; const rect = e.currentTarget.getBoundingClientRect(); const x = e.clientX-rect.left; const y = e.clientY-rect.top; if(corners.length<4) setCorners([...corners,{x,y}]); };

    const analyze = async ()=>{
      if(!imageURL || corners.length!==4){ alert('Upload image and click 4 corners (TL, TR, BR, BL)'); return; }
      if(!window.cv){ alert('OpenCV not loaded yet.'); return; }

      const img = imgRef.current; const canvas = canvasRef.current; const W = img.naturalWidth, H = img.naturalHeight; const ctx = canvas.getContext('2d'); canvas.width=W; canvas.height=H; ctx.drawImage(img,0,0,W,H);
      const cv = window.cv; const src = cv.imread(canvas); const dst = new cv.Mat();
      const srcTri = cv.matFromArray(4,1,cv.CV_32FC2, new Float32Array(corners.flatMap(p=>[p.x,p.y])));
      const dstTri = cv.matFromArray(4,1,cv.CV_32FC2, new Float32Array([0,0,W,0,W,H,0,H]));
      const M = cv.getPerspectiveTransform(srcTri, dstTri); cv.warpPerspective(src, dst, M, new cv.Size(W,H));

      const present=[]; const cellW=Math.floor(W/grid.cols), cellH=Math.floor(H/grid.rows);
      for(let r=0;r<grid.rows;r++) for(let c=0;c<grid.cols;c++){
        const x=c*cellW+Math.floor(cellW*0.08); const y=r*cellH+Math.floor(cellH*0.08); const cw=Math.floor(cellW*0.84), ch=Math.floor(cellH*0.84);
        const roi=new cv.Rect(x,y,cw,ch); const cell=dst.roi(roi);
        const gray=new cv.Mat(); cv.cvtColor(cell,gray,cv.COLOR_RGBA2GRAY); const blur=new cv.Mat(); cv.GaussianBlur(gray,blur,new cv.Size(3,3),0,0,cv.BORDER_DEFAULT); const edges=new cv.Mat(); cv.Canny(blur,edges,50,150);
        const density = cv.countNonZero(edges)/(cw*ch); present.push(density>0.02); gray.delete(); blur.delete(); edges.delete(); cell.delete();
      }
      setPresence(present);

      // Build results
      const missing=[]; const mismatched=[]; const rosterById=Object.fromEntries(roster.map(r=>[String(r.personId),r]));
      if(mobilenetReady && mobilenetRef.current){
        const tf = window.tf; const model = mobilenetRef.current; const tmpCanvas = document.createElement('canvas'); const tctx=tmpCanvas.getContext('2d');
        let idx=0; for(let r=0;r<grid.rows;r++) for(let c=0;c<grid.cols;c++){
          const key = slotKey(r,c); const pid = assignments[key];
          if(!present[idx]){ if(pid) missing.push(pid); idx++; continue; }
          if(pid && gallery[pid]){
            const x=c*cellW+Math.floor(cellW*0.08); const y=r*cellH+Math.floor(cellH*0.08); const cw=Math.floor(cellW*0.84), ch=Math.floor(cellH*0.84);
            tmpCanvas.width=cw; tmpCanvas.height=ch; tctx.drawImage(cv.imshow('__tmp__',dst),x,y,cw,ch,0,0,cw,ch);
            const tensor=tf.browser.fromPixels(tmpCanvas).toFloat().div(255).expandDims(0);
            const emb = await model.infer(tensor,{embedding:true}).data();
            const sim = cosineSimilarity(Array.from(emb), gallery[pid]); if(sim<0.75) mismatched.push({personId: pid, sim, slot:key}); tf.dispose(tensor);
          }
          idx++;
        }
      }else{
        let idx=0; for(let r=0;r<grid.rows;r++) for(let c=0;c<grid.cols;c++){ const key=slotKey(r,c); if(!present[idx] && assignments[key]) missing.push(assignments[key]); idx++; }
      }

      src.delete(); dst.delete(); M.delete(); srcTri.delete(); dstTri.delete();
      setResults({missing, mismatched});
    };

    const enrollFromPhoto = async ()=>{
      if(!imageURL || corners.length!==4 || !mobilenetReady){ alert('Need photo + corners + model loaded'); return; }
      const img = imgRef.current; const canvas = canvasRef.current; const W=img.naturalWidth, H=img.naturalHeight; const ctx=canvas.getContext('2d'); canvas.width=W; canvas.height=H; ctx.drawImage(img,0,0,W,H);
      const cv=window.cv; const src=cv.imread(canvas); const dst=new cv.Mat(); const srcTri=cv.matFromArray(4,1,cv.CV_32FC2,new Float32Array(corners.flatMap(p=>[p.x,p.y]))); const dstTri=cv.matFromArray(4,1,cv.CV_32FC2,new Float32Array([0,0,W,0,W,H,0,H])); const M=cv.getPerspectiveTransform(srcTri,dstTri); cv.warpPerspective(src,dst,M,new cv.Size(W,H));
      const tf=window.tf; const model=mobilenetRef.current; const cellW=Math.floor(W/grid.cols), cellH=Math.floor(H/grid.rows); const can=document.createElement('canvas'); const c2d=can.getContext('2d'); const newGallery={...gallery};
      for(let r=0;r<grid.rows;r++) for(let c=0;c<grid.cols;c++){ const key=slotKey(r,c); const pid=assignments[key]; if(!pid) continue; const x=c*cellW+Math.floor(cellW*0.08); const y=r*cellH+Math.floor(cellH*0.08); const cw=Math.floor(cellW*0.84), ch=Math.floor(cellH*0.84); can.width=cw; can.height=ch; c2d.drawImage(cv.imshow('__en__',dst),x,y,cw,ch,0,0,cw,ch); const t=tf.browser.fromPixels(can).toFloat().div(255).expandDims(0); const emb=await model.infer(t,{embedding:true}).data(); newGallery[pid]=Array.from(emb); tf.dispose(t); }
      src.delete(); dst.delete(); M.delete(); srcTri.delete(); dstTri.delete(); setGallery(newGallery); alert('Enrollment complete: gallery updated for assigned students present.');
    };

    const rosterById = Object.fromEntries(roster.map(r=>[String(r.personId), r]));

    return React.createElement('div',{className:'max-w-6xl mx-auto space-y-6'},[
      React.createElement(Header,{}),

      React.createElement('div',{className:'card'},[
        React.createElement('h2',{className:'text-lg font-semibold mb-3'},'1) Roster'),
        React.createElement('div',{className:'flex flex-wrap items-center gap-3 text-sm'},[
          React.createElement('label',{className:'px-3 py-2 rounded-2xl bg-white border cursor-pointer'},[
            'Upload CSV',
            React.createElement('input',{type:'file',accept:'.csv',className:'hidden',onChange:e=>{ const f=e.target.files?.[0]; if(f) onUploadCSV(f); }})
          ]),
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-white border',onClick:loadRosterFromRepo},'Load roster from repo (roster.csv)'),
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-gray-900 text-white',onClick:()=>downloadJson('roster-backup.json', roster)},'Export roster JSON'),
          React.createElement('span',{className:'text-xs text-gray-500'},'Required headers: Person ID, Full Name. Optional: Security Number, Current Grade, Email 1')
        ]),
        roster.length? React.createElement(RosterTable,{roster}): React.createElement('div',{className:'text-sm text-gray-500 mt-3'},'No roster loaded yet. Put a roster.csv in the repo root so this page can fetch it, or upload a CSV now.')
      ]),

      React.createElement('div',{className:'card'},[
        React.createElement('h2',{className:'text-lg font-semibold mb-3'},'2) Box grid'),
        React.createElement('div',{className:'flex items-center gap-4'},[
          React.createElement(NumberInput,{label:'Rows', value:grid.rows, onChange:v=>setGrid({...grid, rows:v}), min:1, max:12}),
          React.createElement(NumberInput,{label:'Cols', value:grid.cols, onChange:v=>setGrid({...grid, cols:v}), min:1, max:12}),
          React.createElement('div',{className:'text-xs text-gray-500'},`Total slots: ${grid.rows*grid.cols}`)
        ])
      ]),

      React.createElement('div',{className:'card'},[
        React.createElement('h2',{className:'text-lg font-semibold mb-3'},'3) Calibrate & analyze photo'),
        React.createElement('div',{className:'flex flex-wrap items-center gap-3 text-sm'},[
          React.createElement('label',{className:'px-3 py-2 rounded-2xl bg-white border cursor-pointer'},[
            'Upload Photo',
            React.createElement('input',{type:'file',accept:'image/*',className:'hidden',onChange:e=>{ const f=e.target.files?.[0]; if(f) onPhoto(f); }})
          ]),
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-white border',onClick:()=>setCorners([])},'Reset corners'),
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-gray-900 text-white',onClick:analyze},'Analyze photo'),
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-indigo-600 text-white',onClick:enrollFromPhoto, disabled:!mobilenetReady},'Enroll from this photo'),
          React.createElement('span',{className:'text-xs text-gray-500'},'Click the four corners of the box (TL, TR, BR, BL).')
        ]),
        React.createElement('div',{className:'grid md:grid-cols-2 gap-4 mt-3'},[
          React.createElement('div',{className:'bg-gray-100 rounded-xl p-2'},[
            imageURL ? (
              React.createElement('div',{className:'relative'},[
                React.createElement('img',{src:imageURL, alt:'box', ref:imgRef, className:'max-w-full rounded'}),
                React.createElement('canvas',{ref:canvasRef, onClick:onClickCanvas, className:'mt-2 w-full border rounded'})
              ])
            ) : React.createElement('div',{className:'text-sm text-gray-500 p-8'},'Upload a photo and click the 4 corners to deskew. Then Analyze.')
          ]),
          React.createElement('div',{className:'space-y-4'},[
            React.createElement(AssignmentsPanel,{rows:grid.rows, cols:grid.cols, assignments, setAssignments, roster}),
            presence.length>0 && React.createElement('div',{className:'bg-white border rounded-xl p-3 text-sm space-y-3'},[
              React.createElement('h3',{className:'font-semibold'},'Analysis Results'),
              (results && results.missing && results.missing.length) ? (
                React.createElement('div',{},[
                  React.createElement('div',{className:'text-gray-600 text-xs'},'Missing phones'),
                  React.createElement('ul',{className:'list-disc list-inside'}, results.missing.map((pid,i)=> React.createElement('li',{key:i}, (rosterById[pid]?.fullName)||pid)))
                ])
              ) : React.createElement('div',{className:'text-green-700'},'No missing phones detected'),
              (results && results.mismatched && results.mismatched.length) ? (
                React.createElement('div',{},[
                  React.createElement('div',{className:'text-gray-600 text-xs'},'Possible mismatches'),
                  React.createElement('ul',{className:'list-disc list-inside'}, results.mismatched.map((m,i)=> React.createElement('li',{key:i}, `${(rosterById[m.personId]?.fullName)||m.personId} — sim ${m.sim.toFixed(2)} at slot ${m.slot}`)))
                ])
              ) : React.createElement('div',{className:'text-gray-700'},'No mismatches flagged')
            ])
          ])
        ])
      ]),

      React.createElement('div',{className:'card text-xs text-gray-500 space-y-2'},[
        React.createElement('div',{className:'font-semibold'},'Data export/import'),
        React.createElement('div',{className:'flex flex-wrap items-center gap-3 text-sm'},[
          React.createElement('button',{className:'px-3 py-2 rounded-2xl bg-gray-900 text-white',onClick:()=>downloadJson('phone-box-data.json',{grid, roster, assignments, gallery, corners})},'Export JSON'),
          (()=>{
            const label = React.createElement('label',{className:'px-3 py-2 rounded-2xl bg-white border cursor-pointer'},[
              'Import JSON',
              React.createElement('input',{type:'file',accept:'application/json',className:'hidden',onChange:e=>{ const f=e.target.files?.[0]; if(!f) return; const r=new FileReader(); r.onload=()=>{ try{ const obj=JSON.parse(String(r.result)); setRoster(obj.roster||[]); setGrid(obj.grid||DEFAULT_GRID); setAssignments(obj.assignments||{}); setGallery(obj.gallery||{}); setCorners(obj.corners||[]);}catch{ alert('Invalid JSON'); } }; r.readAsText(f); }})
            ]);
            return label;
          })(),
          React.createElement('div',{},'All data stays in your browser unless you export it.')
        ])
      ]),

      React.createElement('div',{className:'text-xs text-gray-500'},[
        React.createElement('p',{className:'mb-1 font-semibold'},'Notes'),
        React.createElement('ul',{className:'list-disc list-inside space-y-1'},[
          React.createElement('li',{},'Tweak the edge-density threshold (0.02) and similarity threshold (0.75) in code for your lighting/boxes.'),
          React.createElement('li',{},'For best results, shoot from straight-on; use the corner calibration for deskewing.'),
          React.createElement('li',{},'Place a file named roster.csv (UTF‑8) in the repo root to keep roster in GitHub; this page will fetch it.')
        ])
      ])
    ]);
  }

  ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>

  <!--
  ========================= README.md (copy into your repo) =========================

  # Phone Box Checker (MVP)

  A single‑page web app to check a classroom phone box. Host on GitHub Pages.

  ## Quick start
  1. Create a repo (e.g., `phone-box-checker`).
  2. Add this `index.html` to the repo root.
  3. Create a `roster.csv` (optional but recommended) in the repo root with headers:

     Person ID,Full Name,Security Number,Current Grade,Email 1
     46268,Abish, Ethan,9A1,Grade 9,Ethan.Abish@frisch.org
     51109,Abraham, Yosef,9A2,Grade 9,Yosef.Abraham@frisch.org

     (Full Name can be `Last, First` or `First Last`; both load.)

  4. Enable GitHub Pages (Settings → Pages → Deploy from branch → `main`/`root`).
  5. Open the site and click **Load roster from repo (roster.csv)**. You can also upload a CSV manually.

  ## Usage
  - Set grid size (default 6×10 = 60 slots).
  - Upload a photo of the box; click 4 corners (TL, TR, BR, BL) to calibrate.
  - Assign students to slots once (or pre-map by Security Number order).
  - Click **Analyze photo** to see missing phones.
  - Click **Enroll from this photo** once so the app learns each phone (flags fakes later).
  - Data stays local (localStorage). Use **Export JSON** for backup.

  ## Privacy
  All images and learned embeddings remain in the browser unless exported. If you commit `roster.csv`, it is public unless your repo is private—use a private repo for student data.

  ## Tuning
  - Presence threshold: search `density>0.02` in code.
  - Similarity threshold: search `sim<0.75` in code.

  ## Troubleshooting
  - If `roster.csv` doesn’t load, check the filename, encoding (UTF‑8), and that it’s in the repo root.
  - OpenCV.js / TF.js load from CDNs; ensure your network allows them.

  -->
</body>
</html>
